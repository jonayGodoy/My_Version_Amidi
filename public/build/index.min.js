/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 5);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function ManagerDom() {

    var idLoad = "amidi";
    var idApp = "app";

    this.start = function () {
        var divLoad = document.getElementById(idLoad);
        var divApp = document.getElementById(idApp);

        divLoad.classList.add('hidden');
        divApp.classList.remove('hidden');
    };

    this.renderQuestion = function (question) {
        throw "UnSupportedOperationException";
    };

    this.renderQuestionAnswered = function (question) {
        throw "UnSupportedOperationException";
    };

    this.ShowButtonNext = function () {
        throw "UnSupportedOperationException";
    };
};

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var ManagerFile = __webpack_require__(2);
var ManagerGame = __webpack_require__(3);
var ManagerQuiz = __webpack_require__(4);
var ManagerDom = __webpack_require__(0);

/*
window.uclicked = function() {
    carlos.saluda();
};
window.uclicked = uclicked;*/

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function ManagerFile() {
    this.loadJson = function () {
        var httpRequest = new XMLHttpRequest();
        httpRequest.onreadystatechange = function () {
            if (httpRequest.readyState === 4) {
                if (httpRequest.status === 200) {
                    var data = httpRequest.responseText;
                    localStorage.setItem('preguntas', data);
                    return JSON.parse(data);
                }
            }
        };
        httpRequest.open('get', '../public/preguntas.json');
        httpRequest.send();
        return localStorage.getItem("preguntas");
    };
};

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var ManagerDom = __webpack_require__(0);

function ManagerGame(managerQuiz, managerDom, numberForWin) {

    var NUMBER_FOR_WIN = numberForWin;

    var countQuestionsSuccess = 0;

    constructor();
    function constructor() {
        if (NUMBER_FOR_WIN == undefined) throw "You have introduce numberForWin in the constructor";
        if (!Number.isInteger(NUMBER_FOR_WIN)) throw "You numberForWin have type Integer";
    };

    this.startGame = function () {
        managerDom.start();

        var question = managerQuiz.getCurrentQuestion();
        managerDom.renderQuestion(question);
    };

    this.updateAnswer = function (answer) {
        var question = managerQuiz.getCurrentQuestion();

        if (managerQuiz.isCorrectQuestion(answer)) {
            countQuestionsSuccess += 1;
        }

        managerDom.renderQuestionAnswered(question);
        managerDom.ShowButtonNext();
    };

    this.nextQuestion = function () {
        managerQuiz.updateQuestions();
        var question = managerQuiz.getCurrentQuestion();
        managerDom.renderQuestion(question);
    };

    this.isPlayerWin = function () {
        return countQuestionsSuccess == NUMBER_FOR_WIN;
    };
}
module.exports = ManagerGame;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function ManagerQuiz(ListQuestion) {

    var listQuestion = ListQuestion;
    var currentQuestion = randomQuestion();

    this.getCurrentQuestion = function () {
        return currentQuestion;
    };

    this.getListQuestion = function () {
        return listQuestion;
    };

    this.isCorrectQuestion = function (question, answer) {
        var result = question.respuesta == answer;
        return result;
    };

    this.updateQuestions = function () {
        deleteCurrentQuestionToList();
        currentQuestion = randomQuestion();
    };

    function randomQuestion() {
        var index = Math.floor(Math.random() * (listQuestion.length - 0) + 0);
        return listQuestion[index];
    }

    function deleteCurrentQuestionToList() {
        var position = listQuestion.indexOf(currentQuestion);
        listQuestion.splice(position, 1);
    }
}
module.exports = ManagerQuiz;

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(1);


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgY2IwNzE3MjAzNmZmMjkwMWE0ZjciLCJ3ZWJwYWNrOi8vLy4vc3JjL01hbmFnZXJEb20uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9NYW5hZ2VyRmlsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvTWFuYWdlckdhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hbmFnZXJRdWl6LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJNYW5hZ2VyRG9tIiwiaWRMb2FkIiwiaWRBcHAiLCJzdGFydCIsImRpdkxvYWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZGl2QXBwIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwicmVuZGVyUXVlc3Rpb24iLCJxdWVzdGlvbiIsInJlbmRlclF1ZXN0aW9uQW5zd2VyZWQiLCJTaG93QnV0dG9uTmV4dCIsIk1hbmFnZXJGaWxlIiwicmVxdWlyZSIsIk1hbmFnZXJHYW1lIiwiTWFuYWdlclF1aXoiLCJsb2FkSnNvbiIsImh0dHBSZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwiZGF0YSIsInJlc3BvbnNlVGV4dCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJvcGVuIiwic2VuZCIsImdldEl0ZW0iLCJtYW5hZ2VyUXVpeiIsIm1hbmFnZXJEb20iLCJudW1iZXJGb3JXaW4iLCJOVU1CRVJfRk9SX1dJTiIsImNvdW50UXVlc3Rpb25zU3VjY2VzcyIsImNvbnN0cnVjdG9yIiwidW5kZWZpbmVkIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwic3RhcnRHYW1lIiwiZ2V0Q3VycmVudFF1ZXN0aW9uIiwidXBkYXRlQW5zd2VyIiwiYW5zd2VyIiwiaXNDb3JyZWN0UXVlc3Rpb24iLCJuZXh0UXVlc3Rpb24iLCJ1cGRhdGVRdWVzdGlvbnMiLCJpc1BsYXllcldpbiIsIkxpc3RRdWVzdGlvbiIsImxpc3RRdWVzdGlvbiIsImN1cnJlbnRRdWVzdGlvbiIsInJhbmRvbVF1ZXN0aW9uIiwiZ2V0TGlzdFF1ZXN0aW9uIiwicmVzdWx0IiwicmVzcHVlc3RhIiwiZGVsZXRlQ3VycmVudFF1ZXN0aW9uVG9MaXN0IiwiaW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJwb3NpdGlvbiIsImluZGV4T2YiLCJzcGxpY2UiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtREFBMkMsY0FBYzs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7OztBQ2hFQTs7QUFFQUEsT0FBT0MsT0FBUCxHQUFpQixTQUFTQyxVQUFULEdBQXNCOztBQUVuQyxRQUFNQyxTQUFTLE9BQWY7QUFDQSxRQUFNQyxRQUFRLEtBQWQ7O0FBRUksU0FBS0MsS0FBTCxHQUFhLFlBQU07QUFDZixZQUFJQyxVQUFVQyxTQUFTQyxjQUFULENBQXdCTCxNQUF4QixDQUFkO0FBQ0EsWUFBSU0sU0FBU0YsU0FBU0MsY0FBVCxDQUF3QkosS0FBeEIsQ0FBYjs7QUFFQUUsZ0JBQVFJLFNBQVIsQ0FBa0JDLEdBQWxCLENBQXNCLFFBQXRCO0FBQ0FGLGVBQU9DLFNBQVAsQ0FBaUJFLE1BQWpCLENBQXdCLFFBQXhCO0FBQ0gsS0FORDs7QUFRQSxTQUFL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bkI7QUFDQSxRQUFJRSxrQkFBa0JDLGdCQUF0Qjs7QUFHQSxTQUFLVixrQkFBTCxHQUEwQjtBQUFBLGVBQU9TLGVBQVA7QUFBQSxLQUExQjs7QUFFQSxTQUFLRSxlQUFMLEdBQXVCO0FBQUEsZUFBTUgsWUFBTjtBQUFBLEtBQXZCOztBQUdDLFNBQUtMLGlCQUFMLEdBQXlCLFVBQVNuQyxRQUFULEVBQWtCa0MsTUFBbEIsRUFBMEI7QUFDaEQsWUFBSVUsU0FBUzVDLFNBQVM2QyxTQUFULElBQXNCWCxNQUFuQztBQUNDLGVBQU9VLE1BQVA7QUFDSixLQUhBOztBQUtELFNBQUtQLGVBQUwsR0FBd0IsWUFBVztBQUMvQlM7QUFDQUwsMEJBQWtCQyxnQkFBbEI7QUFDSCxLQUhEOztBQUtBLGFBQVNBLGNBQVQsR0FBMEI7QUFDdEIsWUFBSUssUUFBUUMsS0FBS0MsS0FBTCxDQUFXRCxLQUFLRSxNQUFMLE1BQWlCVixhQUFhVyxNQUFiLEdBQXNCLENBQXZDLElBQTRDLENBQXZELENBQVo7QUFDQSxlQUFPWCxhQUFhTyxLQUFiLENBQVA7QUFDSDs7QUFFRCxhQUFTRCwyQkFBVCxHQUFzQztBQUNsQyxZQUFJTSxXQUFXWixhQUFhYSxPQUFiLENBQXFCWixlQUFyQixDQUFmO0FBQ0FELHFCQUFhYyxNQUFiLENBQW9CRixRQUFwQixFQUE2QixDQUE3QjtBQUNIO0FBRUo7QUFDRGxFLE9BQU9DLE9BQVAsR0FBaUJtQixXQUFqQixDIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGNiMDcxNzIwMzZmZjI5MDFhNGY3IiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBNYW5hZ2VyRG9tKCkge1xyXG5cclxuICAgIGNvbnN0IGlkTG9hZCA9IFwiYW1pZGlcIjtcclxuICAgIGNvbnN0IGlkQXBwID0gXCJhcHBcIjtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFydCA9ICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGRpdkxvYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZExvYWQpO1xyXG4gICAgICAgICAgICBsZXQgZGl2QXBwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRBcHApO1xyXG5cclxuICAgICAgICAgICAgZGl2TG9hZC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgZGl2QXBwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyUXVlc3Rpb24gPSAocXVlc3Rpb24pID0+IHtcclxuICAgICAgICAgICAgdGhyb3cgXCJVblN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyUXVlc3Rpb25BbnN3ZXJlZCA9IChxdWVzdGlvbikgPT4ge1xyXG4gICAgICAgICAgICB0aHJvdyBcIlVuU3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5TaG93QnV0dG9uTmV4dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhyb3cgXCJVblN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiO1xyXG4gICAgICAgIH07XHJcblxyXG59O1xyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL01hbmFnZXJEb20uanMiLCJsZXQgTWFuYWdlckZpbGUgPSByZXF1aXJlKCcuL01hbmFnZXJGaWxlJyk7XHJcbmxldCBNYW5hZ2VyR2FtZSA9IHJlcXVpcmUoJy4vTWFuYWdlckdhbWUnKTtcclxubGV0IE1hbmFnZXJRdWl6ID0gcmVxdWlyZSgnLi9NYW5hZ2VyUXVpeicpO1xyXG5sZXQgTWFuYWdlckRvbSA9IHJlcXVpcmUoJy4vTWFuYWdlckRvbScpO1xyXG5cclxuXHJcblxyXG5cclxuLypcclxud2luZG93LnVjbGlja2VkID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjYXJsb3Muc2FsdWRhKCk7XHJcbn07XHJcbndpbmRvdy51Y2xpY2tlZCA9IHVjbGlja2VkOyovXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gTWFuYWdlckZpbGUoKSB7XHJcbiAgICAgdGhpcy5sb2FkSnNvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgbGV0IGh0dHBSZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgaHR0cFJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChodHRwUmVxdWVzdC5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaHR0cFJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IGh0dHBSZXF1ZXN0LnJlc3BvbnNlVGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJlZ3VudGFzJywgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7fVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBodHRwUmVxdWVzdC5vcGVuKCdnZXQnLCAnLi4vcHVibGljL3ByZWd1bnRhcy5qc29uJyk7XHJcbiAgICAgICAgaHR0cFJlcXVlc3Quc2VuZCgpO1xyXG4gICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcmVndW50YXNcIik7XHJcbiAgICB9XHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9NYW5hZ2VyRmlsZS5qcyIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmxldCBNYW5hZ2VyRG9tID0gcmVxdWlyZSgnLi4vc3JjL01hbmFnZXJEb20nKTtcclxuXHJcbmZ1bmN0aW9uIE1hbmFnZXJHYW1lKG1hbmFnZXJRdWl6LCBtYW5hZ2VyRG9tLCBudW1iZXJGb3JXaW4pIHtcclxuXHJcbiAgICBjb25zdCBOVU1CRVJfRk9SX1dJTiA9IG51bWJlckZvcldpbjtcclxuXHJcbiAgICBsZXQgY291bnRRdWVzdGlvbnNTdWNjZXNzID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpO1xyXG4gICAgZnVuY3Rpb24gY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgaWYoTlVNQkVSX0ZPUl9XSU4gPT0gdW5kZWZpbmVkKXRocm93IFwiWW91IGhhdmUgaW50cm9kdWNlIG51bWJlckZvcldpbiBpbiB0aGUgY29uc3RydWN0b3JcIjtcclxuICAgICAgICBpZighTnVtYmVyLmlzSW50ZWdlcihOVU1CRVJfRk9SX1dJTikpdGhyb3cgXCJZb3UgbnVtYmVyRm9yV2luIGhhdmUgdHlwZSBJbnRlZ2VyXCI7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc3RhcnRHYW1lID0gKCkgPT4ge1xyXG4gICAgICAgIG1hbmFnZXJEb20uc3RhcnQoKTtcclxuXHJcbiAgICAgICAgbGV0IHF1ZXN0aW9uID0gbWFuYWdlclF1aXouZ2V0Q3VycmVudFF1ZXN0aW9uKCk7XHJcbiAgICAgICAgbWFuYWdlckRvbS5yZW5kZXJRdWVzdGlvbihxdWVzdGlvbik7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudXBkYXRlQW5zd2VyID0gKGFuc3dlcikgPT4ge1xyXG4gICAgICAgIGxldCBxdWVzdGlvbiA9IG1hbmFnZXJRdWl6LmdldEN1cnJlbnRRdWVzdGlvbigpO1xyXG5cclxuICAgICAgICBpZihtYW5hZ2VyUXVpei5pc0NvcnJlY3RRdWVzdGlvbihhbnN3ZXIpKXtcclxuICAgICAgICAgICAgY291bnRRdWVzdGlvbnNTdWNjZXNzICs9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtYW5hZ2VyRG9tLnJlbmRlclF1ZXN0aW9uQW5zd2VyZWQocXVlc3Rpb24pO1xyXG4gICAgICAgIG1hbmFnZXJEb20uU2hvd0J1dHRvbk5leHQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5uZXh0UXVlc3Rpb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIG1hbmFnZXJRdWl6LnVwZGF0ZVF1ZXN0aW9ucygpO1xyXG4gICAgICAgIGxldCBxdWVzdGlvbiA9IG1hbmFnZXJRdWl6LmdldEN1cnJlbnRRdWVzdGlvbigpO1xyXG4gICAgICAgIG1hbmFnZXJEb20ucmVuZGVyUXVlc3Rpb24ocXVlc3Rpb24pO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlzUGxheWVyV2luID0gZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gKGNvdW50UXVlc3Rpb25zU3VjY2VzcyA9PSBOVU1CRVJfRk9SX1dJTik7XHJcbiAgICB9O1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gTWFuYWdlckdhbWU7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL01hbmFnZXJHYW1lLmpzIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuZnVuY3Rpb24gTWFuYWdlclF1aXooTGlzdFF1ZXN0aW9uKSB7XHJcblxyXG4gICAgbGV0IGxpc3RRdWVzdGlvbiA9IExpc3RRdWVzdGlvbjtcclxuICAgIGxldCBjdXJyZW50UXVlc3Rpb24gPSByYW5kb21RdWVzdGlvbigpO1xyXG5cclxuXHJcbiAgICB0aGlzLmdldEN1cnJlbnRRdWVzdGlvbiA9ICgpID0+IChjdXJyZW50UXVlc3Rpb24pO1xyXG5cclxuICAgIHRoaXMuZ2V0TGlzdFF1ZXN0aW9uID0gKCkgPT4obGlzdFF1ZXN0aW9uKTtcclxuXHJcblxyXG4gICAgIHRoaXMuaXNDb3JyZWN0UXVlc3Rpb24gPSBmdW5jdGlvbihxdWVzdGlvbixhbnN3ZXIpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gcXVlc3Rpb24ucmVzcHVlc3RhID09IGFuc3dlcjtcclxuICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy51cGRhdGVRdWVzdGlvbnMgPSAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZGVsZXRlQ3VycmVudFF1ZXN0aW9uVG9MaXN0KCk7XHJcbiAgICAgICAgY3VycmVudFF1ZXN0aW9uID0gcmFuZG9tUXVlc3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByYW5kb21RdWVzdGlvbigpIHtcclxuICAgICAgICBsZXQgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobGlzdFF1ZXN0aW9uLmxlbmd0aCAtIDApICsgMCk7XHJcbiAgICAgICAgcmV0dXJuIGxpc3RRdWVzdGlvbltpbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVsZXRlQ3VycmVudFF1ZXN0aW9uVG9MaXN0KCl7XHJcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gbGlzdFF1ZXN0aW9uLmluZGV4T2YoY3VycmVudFF1ZXN0aW9uKTtcclxuICAgICAgICBsaXN0UXVlc3Rpb24uc3BsaWNlKHBvc2l0aW9uLDEpO1xyXG4gICAgfVxyXG5cclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IE1hbmFnZXJRdWl6O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9NYW5hZ2VyUXVpei5qcyJdLCJzb3VyY2VSb290IjoiIn0=